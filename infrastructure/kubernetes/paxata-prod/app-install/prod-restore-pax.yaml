
# Generated by gradle on 2019-07-10T21:26:58.759164Z
---
apiVersion: v1
kind: Namespace
metadata:
  name: restore
  labels:
    paxata.com/is-customer: "true"
---
apiVersion: v1
kind: Secret
metadata:
  namespace: restore
  name: prod-pes
type: Opaque
stringData:
  pes.properties: |-
    px.encryption.pes.keyseed=GET_FROM_LASTPASS
---
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  namespace: restore
  name: prod-core-site
stringData:
  core-site.xml: |-
    <configuration>
        <property>
            <name>fs.defaultFS</name>
            <value>s3a://prodlib-paxata-prod-empty-donotdelete</value>
        </property>
        <property>
            <name>fs.s3a.access.key</name>
            <value>AKIAVKKJLJOQR4SSG4N5</value>
        </property>
        <property>
            <name>fs.s3a.secret.key</name>
            <value>GET_FROM_LASTPASS</value>
        </property>
        <property>
            <name>fs.s3a.aws.credentials.provider</name>
            <value>org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider</value>
        </property>
        <property>
            <name>hadoop.security.authentication</name>
            <value>simple</value>
        </property>
        <property>
            <name>fs.s3a.buffer.dir</name>
            <value>/usr/local/paxata/server/tmp</value>
            <description>Comma separated list of directories that will be used to buffer file uploads to. No effect if fs.s3a.fast.upload is true.
            </description>
        </property>
        <property>
            <name>fs.s3a.impl</name>
            <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>
            <description>The implementation class of the S3A Filesystem</description>
        </property>
        <property>
            <name>fs.s3.enableServerSideEncryption</name>
            <value>true</value>
        </property>
        <property>
            <name>fs.s3a.fast.upload</name>
            <value>true</value>
        </property>
        <property>
            <name>fs.s3a.threads.max</name>
            <value>10</value>
        </property>
        <property>
            <name>fs.s3a.threads.core</name>
            <value>10</value>
        </property>
        <property>
            <name>fs.s3a.connection.maximum</name>
            <value>15</value>
        </property>
    </configuration>


---
apiVersion: paxata.com/v1
kind: PaxInstallation
metadata:
  name: prod
  namespace: restore
spec:
  active: true
  mongo:
    databaseName: paxata
  libraryStorage:
    type: s3
    coreSiteSecretName: prod-core-site
    rootPath: /
  paxserver:
    jvmArgs:
      - "-Duser.timezone=America/Los_Angeles"
      - "-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector"
      - "-Dsun.jnu.encoding=UTF8"
      - "-Dfile.encoding=UTF8"
      - "-XX:+UseG1GC"
      - "-XX:-OmitStackTraceInFastThrow"
      - "-XX:+AlwaysPreTouch"
      - "-XX:InitiatingHeapOccupancyPercent=70"
      - "-XX:MaxGCPauseMillis=200"
      - "-XX:MaxMetaspaceSize=512m"
      - "-XX:MetaspaceSize=256m"
      - "-Dsun.reflect.noInflation=true"
      - "-XX:+HeapDumpOnOutOfMemoryError"
      - "-XX:HeapDumpPath=/usr/local/paxata/server/logs"
    applicationProperties:
      px.automation.scheduler.numThreads: "0"
      px.delete.other.tenants.enabled: "true"
      px.delete.other.tenants.ids: "30799d04f19640528ae0a531e88fd4f2,a13161b6377a4e5f88483d9242276d85,dbdc79ffd0ad46bab8c1b4215c170a41,4b72d9b616884a2e9ca45c8958e38929,4a8b69bad26c4b419e9e4a294613e142,4cf590dc17f24743900db760b89ab188"
    imageName: dtr.paxatadev.com/paxata/release_k8s_paxata-server
    imageVersion: 2019.2.0.1.2167
    memoryMB: 16384
    numCpus: 4
  pesKeySecretName: prod-pes
  pipelineProxy:
    applicationProperties: {}
    imageName: dtr.paxatadev.com/paxata/release_pipeline_proxy
    imageVersion: 2019.2.0.1.2167
    memoryMB: 2048
    numCpus: 2
