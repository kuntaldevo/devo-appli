
# Generated by gradle on 2019-06-13T21:19:18.476505Z
---
apiVersion: v1
kind: Namespace
metadata:
  name: internal-saml
  labels:
    paxata.com/is-customer: "true"
---
apiVersion: v1
kind: Secret
metadata:
  namespace: internal-saml
  name: internal-saml1-pes
type: Opaque
stringData:
  pes.properties: |-
    px.encryption.pes.keyseed=CHECKINLASTPASS
---
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  namespace: internal-saml
  name: internal-saml1-core-site
stringData:
  core-site.xml: |-
    <configuration>
        <property>
            <name>fs.defaultFS</name>
            <value>s3a://prodlib-paxata-internal1</value>
        </property>
        <property>
            <name>fs.s3a.access.key</name>
            <value>CHECKINLASTPASS</value>
        </property>
        <property>
            <name>fs.s3a.secret.key</name>
            <value>CHECKINLASTPASS</value>
        </property>
        <property>
            <name>fs.s3a.aws.credentials.provider</name>
            <value>org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider</value>
        </property>
        <property>
            <name>hadoop.security.authentication</name>
            <value>simple</value>
        </property>
        <property>
            <name>fs.s3a.buffer.dir</name>
            <value>/usr/local/paxata/server/tmp</value>
            <description>Comma separated list of directories that will be used to buffer file uploads to. No effect if fs.s3a.fast.upload is true.
            </description>
        </property>
        <property>
            <name>fs.s3a.impl</name>
            <value>org.apache.hadoop.fs.s3a.S3AFileSystem</value>
            <description>The implementation class of the S3A Filesystem</description>
        </property>
        <property>
            <name>fs.s3.enableServerSideEncryption</name>
            <value>true</value>
        </property>
        <property>
            <name>fs.s3a.fast.upload</name>
            <value>true</value>
        </property>
        <property>
            <name>fs.s3a.threads.max</name>
            <value>20</value>
        </property>
        <property>
            <name>fs.s3a.threads.core</name>
            <value>10</value>
        </property>
        <property>
            <name>fs.s3a.connection.maximum</name>
            <value>30</value>
        </property>
    </configuration>


---
apiVersion: paxata.com/v1
kind: PaxInstallation
metadata:
  name: prod
  namespace: internal-saml
spec:
  active: true
  mongo:
    databaseName: paxata-internal1
  libraryStorage:
    type: s3
    coreSiteSecretName: internal-saml1-core-site
    rootPath: /
  paxserver:
    jvmArgs:
      - "-Duser.timezone=America/Los_Angeles"
      - "-DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector"
      - "-Dsun.jnu.encoding=UTF8"
      - "-Dfile.encoding=UTF8"
      - "-XX:+UseG1GC"
      - "-XX:-OmitStackTraceInFastThrow"
      - "-XX:+AlwaysPreTouch"
      - "-XX:InitiatingHeapOccupancyPercent=70"
      - "-XX:MaxGCPauseMillis=200"
      - "-XX:MaxMetaspaceSize=512m"
      - "-XX:MetaspaceSize=256m"
      - "-Dsun.reflect.noInflation=true"
      - "-XX:+HeapDumpOnOutOfMemoryError"
      - "-XX:HeapDumpPath=/usr/local/paxata/server/logs"
    applicationProperties:
      px.email.password: "k*#xjqcMsXh^GwX%6p6F"
      px.email.smtp.host: "smtp.gmail.com"
      px.email.smtp.port: "465"
      px.email.use.ssl: "true"
      px.email.from.address: "noreply@paxata.com"
      px.email.bounce.address: "support@paxata.com"
      px.ssl.include.protocols: "TLSv1.1,TLSv1.2"
      px.ssl.exclude.protocols: "SSLv3,TLSv1.0"
      px.hsts.header.value: "px.hsts.header.value=max-age=31536000; includeSubDomains"
      px.use.hsts: "true"
      px.websocket.trace: sdk
      px.diagnostic.enabled: "true"
      px.diagnostic.trace.enabled: "true"
      px.diagnostic.traces.websocket-trigger: all
      px.automation.scheduler.numThreads: "0"
      px.pipeline.cache.expiration.time: "1"
      guardrail.instana.browser.tracking.key: "nrdPxURdTGqoCRL4p_c7Fw"
    imageName: dtr.paxatadev.com/paxata/release_k8s_paxata-server
    imageVersion: 2019.2.0.1.2167
    memoryMB: 2048
    numCpus: 2
  pesKeySecretName: internal-saml1-pes
  pipelineProxy:
    applicationProperties:
        px_pps_spark_conf_spark_driver_extraJavaOptions: "-Dpx.total.cache.capacity=1500000"
        px_pps_spark_conf_spark_kubernetes_memoryOverheadFactor: "0.4"
        SPARK_HOME: "/opt/spark"
        px_pps_spark_conf_spark_kubernetes_container_image: "365762923425.dkr.ecr.us-east-1.amazonaws.com/spark:2.4.4"
    imageName: dtr.paxatadev.com/paxata/release_pipeline_proxy
    imageVersion: 2019.2.0.1.2167
    memoryMB: 2048
    numCpus: 2
