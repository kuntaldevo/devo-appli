###
### DO NOT EDIT.  FILE GENERATED BY KUSTOMIZE
### 2019-11-07T12:39:01-0500
apiVersion: v1
kind: Namespace
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-agent
---
apiVersion: v1
kind: ServiceAccount
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-agent
  namespace: instana-agent
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-agent-role
rules:
- nonResourceURLs:
  - /version
  - /healthz
  verbs:
  - get
- apiGroups:
  - batch
  resources:
  - jobs
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - extensions
  resources:
  - deployments
  - replicasets
  - ingresses
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - apps
  resources:
  - deployments
  - replicasets
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - ""
  resources:
  - namespaces
  - events
  - services
  - endpoints
  - nodes
  - pods
  - replicationcontrollers
  - componentstatuses
  - resourcequotas
  verbs:
  - get
  - list
  - watch
- apiGroups:
  - ""
  resources:
  - endpoints
  verbs:
  - create
  - update
  - patch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-agent-role-binding
  namespace: instana-agent
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: instana-agent-role
subjects:
- kind: ServiceAccount
  name: instana-agent
  namespace: instana-agent
---
apiVersion: v1
data:
  configuration.yaml: |
    com.instana.plugin.javatrace:
      instrumentation:
        enabled: true
        opentracing: false
        sdk:
          packages:
            - 'com.paxata.frontend.trace.instana'
    com.instana.plugin.statsd:
        enabled: true
        ports:
          udp: 8125
          mgmt: 8126
        flush-interval: 10 # seconds
kind: ConfigMap
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-configuration
  namespace: instana-agent
---
apiVersion: v1
data:
  AWS-TLS-CERTIFICATE-ARN: arn:aws:acm:us-east-1:365762923425:certificate/aabe96cb-8f94-46e7-971c-5a66cd82b788
  AWS-ZONE-TYPE: public
  DNS-DOMAIN-SUFFIX: paxata.com
  INTERNAL-ELB: "false"
kind: ConfigMap
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: region-config
  namespace: pax-operator
---
apiVersion: v1
data:
  CLUSTER-NAME: paxata-perf-prod
  REGION-ID: us-east-1
kind: ConfigMap
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: source-vars-49t8g7fghc
---
apiVersion: v1
data:
  key: MFYzQnFFZU5ReWFDTndqSnl4d29Mdw==
kind: Secret
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-agent-secret
  namespace: instana-agent
type: Opaque
---
apiVersion: apps/v1
kind: DaemonSet
metadata:
  annotations:
    approver-email: ""
    cluster-id: perf-prod
    create-host: witts-laptop
    create-timestamp: 2019-11-07T12:38:56-0500
    create-user: awitt
    distro-id: ""
    env-key: paxata-perf-prod
    expiration-date: "2019-11-14"
    installation-id: ""
    region-id: us-east-1
    scm-branch: DEVOPSS-974.ExecutorSizeTesting
    scm-email: awitt@paxata.com
    scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
    scm-user: Aaron Witt
  name: instana-agent
  namespace: instana-agent
spec:
  selector:
    matchLabels:
      app: instana-agent
  template:
    metadata:
      annotations:
        approver-email: ""
        cluster-id: perf-prod
        create-host: witts-laptop
        create-timestamp: 2019-11-07T12:38:56-0500
        create-user: awitt
        distro-id: ""
        env-key: paxata-perf-prod
        expiration-date: "2019-11-14"
        installation-id: ""
        region-id: us-east-1
        scm-branch: DEVOPSS-974.ExecutorSizeTesting
        scm-email: awitt@paxata.com
        scm-sha: efa51d75e9c8206475431abba0ee421d927f90bc
        scm-user: Aaron Witt
      labels:
        app: instana-agent
    spec:
      containers:
      - env:
        - name: INSTANA_AGENT_LEADER_ELECTOR_PORT
          value: "42655"
        - name: INSTANA_ZONE
          value: paxata-perf-prod
        - name: INSTANA_AGENT_ENDPOINT
          value: saas-us-west-2.instana.io
        - name: INSTANA_AGENT_ENDPOINT_PORT
          value: "443"
        - name: INSTANA_AGENT_KEY
          valueFrom:
            secretKeyRef:
              key: key
              name: instana-agent-secret
        - name: JAVA_OPTS
          value: -Xmx170M -XX:+ExitOnOutOfMemoryError
        - name: INSTANA_AGENT_POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        image: instana/agent
        imagePullPolicy: Always
        livenessProbe:
          httpGet:
            path: /status
            port: 42699
          initialDelaySeconds: 75
          periodSeconds: 5
        name: instana-agent
        ports:
        - containerPort: 42699
        resources:
          limits:
            cpu: "1.5"
            memory: 512Mi
          requests:
            cpu: "0.5"
            memory: 512Mi
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /dev
          name: dev
        - mountPath: /run
          name: run
        - mountPath: /var/run
          name: var-run
        - mountPath: /sys
          name: sys
        - mountPath: /var/log
          name: log
        - mountPath: /etc/machine-id
          name: machine-id
        - mountPath: /root/configuration.yaml
          name: configuration
          subPath: configuration.yaml
      - command:
        - /app/server
        - --election=instana
        - --http=localhost:42655
        - --id=$(INSTANA_AGENT_POD_NAME)
        env:
        - name: INSTANA_AGENT_POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        image: instana/leader-elector:0.5.4
        livenessProbe:
          httpGet:
            path: /status
            port: 42699
          initialDelaySeconds: 75
          periodSeconds: 5
        name: instana-agent-leader-elector
        ports:
        - containerPort: 42655
        resources:
          requests:
            cpu: "0.1"
            memory: 64Mi
      hostIPC: true
      hostNetwork: true
      hostPID: true
      serviceAccount: instana-agent
      tolerations:
      - effect: NoSchedule
        operator: Exists
      volumes:
      - hostPath:
          path: /dev
        name: dev
      - hostPath:
          path: /run
        name: run
      - hostPath:
          path: /var/run
        name: var-run
      - hostPath:
          path: /sys
        name: sys
      - hostPath:
          path: /var/log
        name: log
      - hostPath:
          path: /etc/machine-id
        name: machine-id
      - configMap:
          name: instana-configuration
        name: configuration
